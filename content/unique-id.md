### 分布式唯一ID生成

业务系统都有生成ID的需求,如果订单id、商品id、文章id等.id生成的核心点:   

- 全局唯一 
- 趋势递增  

全局唯一目的在于确定的标识某一次业务请求,而趋势递增以MySQL为例,简单来讲是适应索引(底层结构B+树),提高存取效率.
       
#### 生成方案

- 数据库自增长序列  
优缺点:简单方便,但涉及数据迁移或分库分表相当麻烦.另外如果是单一主库多从生成id,会有故障风险.  
优化方案:可以设置多主库不同的起始id,但增长的步长一致(可以是主库的个数),换句话说就是等差数列.  

- Java UUID工具  
优缺点:简单方便,具有唯一性,不必担心数据迁移或数据库变更的情况.缺点是无法保证趋势递增(也没有排序)且生成的UUID一般为字符串,查询效率低存储空间较大.    

- redis生成id  
优缺点:性能高于数据库生成的方案,基于redis单线程的特点,可生成全局唯一id.这主要利用redis的INCR和INCRBY实现.另外可以利用集群redis来获取更高的吞吐量,不同的redis分别设置不同的起始值,步长一致即可.缺点是额外的编码工作量.

④Twitter雪花算法:

       
       